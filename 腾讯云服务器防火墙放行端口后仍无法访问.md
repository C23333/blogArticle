---
title: markdown插入网易云播放模块
date: 2022-1-12 20:53:27
tags:
  - 云服务器
  - 防火墙
keywords: 云服务器
categories: 实操
---



# 腾讯云服务器防火墙放行端口后仍无法访问

> 本文写于2022/1/12
>
> 此后腾讯云控制台可能因更新而与图上不一致

## 原因

服务器安装的CentOS7，**firewalld**未关闭，腾讯云防火墙(**iptables**)放行而**firewalld**未放行

## 解决方法

1. 开启端口（以7000端口为例）

~~~shell
firewall-cmd --zone=public --add-port=80/tcp --permanent
#命令含义：
#--zone #作用域
#--add-port=80/tcp #添加端口，格式为：端口/通讯协议
#--permanent #永久生效，没有此参数重启后失效
~~~

2. 重启防火墙

~~~SHELL
firewall-cmd --reload
~~~

3. 查看端口是否已放行

~~~Shell
firewall-cmd --list-ports
~~~

![image-20220112225224618](https://lalalademaxiya01.oss-cn-beijing.aliyuncs.com/img/image-20220112225224618.png)

* 可见已放行

### firewall常用命令

~~~shell
firewall-cmd --list-all                        ##centos7查看防火墙所有信息
firewall-cmd --zone=public --remove-port=6999/tcp --permanent  #删除端口(以6999为例)
systemctl stop firewalld.service               ##停止firewall
systemctl disable firewalld.service            ##禁止firewall开机启动
firewall-cmd --state                           ##查看防火墙状态，是否是running
firewall-cmd --reload                          ##重新载入配置，比如添加规则之后，需要执行此命令
firewall-cmd --get-zones                       ##列出支持的zone
firewall-cmd --get-services                    ##列出支持的服务，在列表中的服务是放行的
firewall-cmd --query-service ftp               ##查看ftp服务是否支持，返回yes或者no
firewall-cmd --add-service=ftp                 ##临时开放ftp服务
firewall-cmd --add-service=ftp --permanent     ##永久开放ftp服务
firewall-cmd --remove-service=ftp --permanent  ##永久移除ftp服务
firewall-cmd --add-port=80/tcp --permanent     ##永久添加80端口 
iptables -L -n                                 ##查看规则，这个命令是和iptables的相同的
man firewall-cmd                               ##查看帮助
~~~



